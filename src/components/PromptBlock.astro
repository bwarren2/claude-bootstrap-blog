---
interface Props {
  prompt: string;
  context?: string;
  effectiveness: "high" | "medium" | "low";
  notes?: string;
}

const { prompt, context, effectiveness, notes } = Astro.props;

const effectivenessConfig = {
  high: { label: "High", color: "text-status-complete bg-status-complete/10 border-status-complete/30" },
  medium: { label: "Medium", color: "text-status-in-progress bg-status-in-progress/10 border-status-in-progress/30" },
  low: { label: "Low", color: "text-status-abandoned bg-status-abandoned/10 border-status-abandoned/30" },
};

const eff = effectivenessConfig[effectiveness];
---

<div class="rounded-lg border border-border bg-surface-alt p-5">
  <div class="flex items-start justify-between gap-3 mb-3">
    <span class={`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium ${eff.color}`}>
      {eff.label} effectiveness
    </span>
  </div>
  <pre class="bg-surface dark:bg-surface-dark rounded-md p-4 text-sm font-mono text-text-primary overflow-x-auto whitespace-pre-wrap mb-3 border border-border">{prompt}</pre>
  {context && <p class="text-sm text-text-secondary mb-2"><strong class="text-text-primary">Context:</strong> {context}</p>}
  {notes && <p class="text-sm text-text-secondary"><strong class="text-text-primary">Notes:</strong> {notes}</p>}
</div>
